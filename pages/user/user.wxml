<!--ä¸ªäººä¸­å¿ƒé¡µé¢-->
<view class="container">
  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="user-card">
    <view class="user-header">
      <view class="user-avatar-section">
        <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
        <view class="avatar-badge" wx:if="{{userInfo.vipLevel > 0}}">VIP</view>
      </view>
      
      <view class="user-info">
        <view class="user-name">{{userInfo.nickName || 'æœªç™»å½•'}}</view>
        <view class="user-level">
          <text class="level-icon">â­</text>
          <text class="level-text">Lv.{{userInfo.level}}</text>
          <text class="points-text">{{userInfo.points}}ç§¯åˆ†</text>
        </view>
        <view class="vip-status" wx:if="{{userInfo.vipLevel > 0}}">
          <text class="vip-icon">ğŸ‘‘</text>
          <text class="vip-text">VIPä¼šå‘˜ è‡³{{userInfo.vipExpireTime}}</text>
        </view>
      </view>
      
      <view class="user-actions">
        <view class="action-btn edit-btn" bindtap="onEditProfile">
          <text class="action-icon">âœï¸</text>
        </view>
        <view class="action-btn vip-btn" bindtap="onUpgradeVip" wx:if="{{userInfo.vipLevel === 0}}">
          <text class="action-text">å‡çº§VIP</text>
        </view>
      </view>
    </view>
    
    <!-- ç»Ÿè®¡æ•°æ® -->
    <view class="stats-section">
      <view class="stat-item" bindtap="onMenuItemTap" data-item="{{menuItems[0]}}">
        <view class="stat-number">{{stats.detectionCount}}</view>
        <view class="stat-label">æ£€æµ‹æ¬¡æ•°</view>
      </view>
      <view class="stat-item" bindtap="onMenuItemTap" data-item="{{menuItems[1]}}">
        <view class="stat-number">{{stats.diaryCount}}</view>
        <view class="stat-label">æŠ¤è‚¤æ—¥è®°</view>
      </view>
      <view class="stat-item" bindtap="onMenuItemTap" data-item="{{menuItems[2]}}">
        <view class="stat-number">{{stats.reportCount}}</view>
        <view class="stat-label">ä½“éªŒæŠ¥å‘Š</view>
      </view>
      <view class="stat-item" bindtap="onMenuItemTap" data-item="{{menuItems[3]}}">
        <view class="stat-number">{{stats.favoriteCount}}</view>
        <view class="stat-label">æˆ‘çš„æ”¶è—</view>
      </view>
    </view>
  </view>

  <!-- åŠŸèƒ½èœå• -->
  <view class="menu-section">
    <view class="section-title">æˆ‘çš„åŠŸèƒ½</view>
    <view class="menu-list">
      <view class="menu-item" wx:for="{{menuItems}}" wx:key="id" bindtap="onMenuItemTap" data-item="{{item}}">
        <view class="menu-icon">{{item.icon}}</view>
        <view class="menu-content">
          <view class="menu-title">{{item.title}}</view>
          <view class="menu-subtitle">{{item.subtitle}}</view>
        </view>
        <view class="menu-arrow" wx:if="{{item.arrow}}">â€º</view>
      </view>
    </view>
  </view>

  <!-- æœåŠ¡æ”¯æŒ -->
  <view class="service-section">
    <view class="section-title">æœåŠ¡æ”¯æŒ</view>
    <view class="service-list">
      <view class="service-item" wx:for="{{serviceItems}}" wx:key="id" bindtap="onServiceItemTap" data-item="{{item}}">
        <view class="service-icon">{{item.icon}}</view>
        <view class="service-content">
          <view class="service-title">{{item.title}}</view>
          <view class="service-subtitle">{{item.subtitle}}</view>
        </view>
        <view class="service-arrow">â€º</view>
      </view>
    </view>
  </view>

  <!-- VIPå‡çº§å¼¹çª— -->
  <view class="vip-modal" wx:if="{{showVipModal}}">
    <view class="modal-mask" bindtap="onCloseVipModal"></view>
    <view class="modal-content">
      <view class="modal-header">
        <view class="modal-title">å‡çº§VIPä¼šå‘˜</view>
        <view class="modal-close" bindtap="onCloseVipModal">Ã—</view>
      </view>
      
      <view class="vip-benefits">
        <view class="benefits-title">ä¼šå‘˜ç‰¹æƒ</view>
        <view class="benefit-item">
          <text class="benefit-icon">âœ¨</text>
          <text class="benefit-text">æ— é™æ¬¡AIçš®è‚¤æ£€æµ‹</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-icon">ğŸ¯</text>
          <text class="benefit-text">ä¸“å±ä¸ªæ€§åŒ–æŠ¤è‚¤æ–¹æ¡ˆ</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-icon">ğŸ‘¥</text>
          <text class="benefit-text">ä¼˜å…ˆå®¢æœæ”¯æŒ</text>
        </view>
        <view class="benefit-item">
          <text class="benefit-icon">ğŸ“š</text>
          <text class="benefit-text">ä¼šå‘˜ä¸“äº«æŠ¤è‚¤å†…å®¹</text>
        </view>
      </view>
      
      <view class="vip-plans">
        <view class="plan-item" wx:for="{{vipPlans}}" wx:key="id" bindtap="onSelectVipPlan" data-plan="{{item}}">
          <view class="plan-header">
            <view class="plan-name">{{item.name}}</view>
            <view class="plan-duration">{{item.duration}}</view>
          </view>
          <view class="plan-price">
            <text class="current-price">Â¥{{item.price}}</text>
            <text class="original-price">Â¥{{item.originalPrice}}</text>
          </view>
          <view class="plan-benefits">
            <text class="benefit-tag" wx:for="{{item.benefits}}" wx:key="*this">{{item}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>